---
title: "【個人開発】ローカルサーバーにインターネットからアクセスできるようにするサービスを作ったので使ってほしい"
emoji: "📘"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["個人開発", "Python", "Django", "SSH"]
published: false
---

## サービスの概要

プライベートIPアドレスしか持たないサーバー(以降はローカルサーバーと呼びます)にインターネットからアクセスできるようにする「[TCP Exposer](https://www.tcpexposer.com/)」というサービスを作りました。
多くの人に使ってもらいたいのでPRも兼ねて本記事を書いています。

[![TCP Exposer](/images/tcpexposer-intoroduction/tcpexposer_top.png)](https://www.tcpexposer.com/)

自宅のサーバーやルーターは、グローバルIPアドレスでなくプライベートIPアドレスしかないという方も多いと思います。
このようなネットワーク環境のサーバーのTCPポートを、インターネットからアクセスできるようにするサービスです。

使い方は、 ```ssh -R 80:localhost:8080 anonymous@tcpexposer.com``` のようなコマンドをローカルサーバーで実行するだけです。
通常のSSHクライアントで構わないので、専用ソフトを入れる必要はありません。

TCP Exposerは下記シーケンス図のように振る舞います。

![シーケンス図](/images/tcpexposer-intoroduction/sequence.png)


<!-- ###################################################################### -->


## 類似サービスとの違い

### サービスの種類

トンネリングサービスもしくはVPNサービスが競合となると考えています。

トンネリングサービスとは、本サービスのようにローカルサーバーを外部に公開するサービスです。
おそらくローカルサーバーと経由サーバーの間にファイアウォールやNATを超える通信経路をトンネルと読んでいることからのサービスの種別名だと思います。
トンネリングサービスはローカルサーバーを広く一般に公開したい人向けのサービスと言えます。

また、VPNサービスも競合となると考えています。
自分もしくは限られた人にのみローカルサーバーを公開したい場合にVPNサービスを使います。
例えば、外出先から自宅のサーバーにアクセスしたいというユースケースで使われます。
本サービスで例えばSSHサービスのポート番号を公開する場合は、VPNサービスと違い本サービス自体は認証機能を提供しませんが、SSHサーバー自体の認証情報を知っている人のみしかアクセスできません。
本サービスは特定のTCPポートをインターネットからアクセスできるようにするため、認証機能自体をローカルサーバーで行う場合はVPNのような使い方も可能です。


### 類似サービスの一覧

類似サービスのうち、私が知っている範囲では下記サービスが比較的有名だと思います。

- [ngrok](https://ngrok.com/)

    トンネリングサービスとしては一番有名所だと思います。
    本サービスと同様に、HTTP(S)サーバーだけでなくTCPサーバーも公開できます。
    ngrokは専用のクライアントソフトをローカルサーバーにインストールする必要がありますが、本サービスは通常のSSHクライアントで良いのでインストールは不要です。

- [Cloudflare Zero Trust](https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/install-and-setup)

    CDNサービスで有名なCloudflareも類似のサービスを出しています。
    こちらはトンネリングとしてもVPNとしても使えそうで、Cloudflare TunnelだったりCloudflare Accessだったりサービス名がちょこちょこ変わっているみたいです。
    ドメインの取得が必要なのと、専用のクライアントソフトをローカルサーバーにインストールする必要があります。

- [Tailscale](https://tailscale.com/)

    VPNサービスですので、ローカルサーバーを広く一般に公開することはできません。
    本サービスと違い、ローカルサーバーとそのクライアントはTailscaleを経由せずに通信するため通信速度が早いようです。
    一方専用のクライアントをローカルサーバーとクライアントにインストールする必要があります。

- [localhost.run](https://localhost.run/)

    本サービスと非常に似ているサービスです。
    通常のSSHクライアントを使うため専用のクライアントソフトは不要で、実行するコマンドも本サービスとほぼ同じです。
    localhost.runはTCPサーバーを公開することはできませんが、本サービスはできます。

### 本サービスの特徴

本サービスの特徴は下記であると思っています。

- 専用クライアントが不要です。

    個人的に専用ソフトをインストールするのはハードルが高いのですが、それが不要です。
    また、会社のPCなど自由にソフトをインストールできない場合でも利用できます。
    ちなみに私の会社ではインターネットへのSSH接続はファイアウォールでブロックされているので、本サービスは使えません。
    在宅勤務時に社内のネットワークに接続していないければ使えます。

- ユーザー登録不要です。

    いくつか制限がありますが、サービス利用のハードルを下げたかったため、お試しで使う分には登録不要にしています。

- TCPポート番号を公開できます。

    上に上げたサービス以外にもトンネリングサービスはあるのですが、HTTP(S)のみサポートしていることが多いです。
    本サービスはそれに加えてTCPにも対応しています。

- 独自ドメインを利用できません。


<!-- ###################################################################### -->


## 開発背景

工事中。


<!-- ###################################################################### -->


## 技術選定

工事中。

国内のVPSサービスを使っています。
Oracle Cloudの無料枠で使える仮想マシンサービスも気になっており、そちらに乗り換える可能性があります。
(実際に試していないので間違っているかもしれませんが)HerokuなどはHTTP(S)しか対応していないため、SSHサーバーが必要な本サービスでは使えませんでした。


<!-- ###################################################################### -->


## 今後

工事中。
